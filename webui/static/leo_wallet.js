(()=>{"use strict";var e={729:e=>{var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var i=new s(r,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],i]:e._events[c].push(i):(e._events[c]=i,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function i(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),i.prototype.eventNames=function(){var e,r,s=[];if(0===this._eventsCount)return s;for(r in e=this._events)t.call(e,r)&&s.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},i.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,o=r.length,a=new Array(o);s<o;s++)a[s]=r[s].fn;return a},i.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,t,r,s,o,a){var i=n?n+e:e;if(!this._events[i])return!1;var c,l,A=this._events[i],d=arguments.length;if(A.fn){switch(A.once&&this.removeListener(e,A.fn,void 0,!0),d){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,t),!0;case 3:return A.fn.call(A.context,t,r),!0;case 4:return A.fn.call(A.context,t,r,s),!0;case 5:return A.fn.call(A.context,t,r,s,o),!0;case 6:return A.fn.call(A.context,t,r,s,o,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];A.fn.apply(A.context,c)}else{var h,u=A.length;for(l=0;l<u;l++)switch(A[l].once&&this.removeListener(e,A[l].fn,void 0,!0),d){case 1:A[l].fn.call(A[l].context);break;case 2:A[l].fn.call(A[l].context,t);break;case 3:A[l].fn.call(A[l].context,t,r);break;case 4:A[l].fn.call(A[l].context,t,r,s);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];A[l].fn.apply(A[l].context,c)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,t,r,s){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||s&&!i.once||r&&i.context!==r||a(this,o);else{for(var c=0,l=[],A=i.length;c<A;c++)(i[c].fn!==t||s&&!i[c].once||r&&i[c].context!==r)&&l.push(i[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={};n.r(e),n.d(e,{BaseMessageSignerWalletAdapter:()=>M,BaseSignerWalletAdapter:()=>N,BaseWalletAdapter:()=>c,DecryptPermission:()=>o,EventEmitter:()=>i(),Transaction:()=>L,Transition:()=>j,WalletAccountError:()=>m,WalletAdapterNetwork:()=>s,WalletConfigError:()=>u,WalletConnectionError:()=>y,WalletDecryptionError:()=>R,WalletDecryptionNotAllowedError:()=>B,WalletDisconnectedError:()=>w,WalletDisconnectionError:()=>f,WalletError:()=>A,WalletKeypairError:()=>g,WalletLoadError:()=>h,WalletNotConnectedError:()=>E,WalletNotReadyError:()=>d,WalletNotSelectedError:()=>p,WalletPublicKeyError:()=>v,WalletReadyState:()=>r,WalletRecordsError:()=>I,WalletRequestViewKeyError:()=>x,WalletSendTransactionError:()=>b,WalletSignMessageError:()=>W,WalletSignTransactionError:()=>_,WalletTimeoutError:()=>S,WalletTransactionError:()=>O,WalletWindowBlockedError:()=>D,WalletWindowClosedError:()=>T,scopePollingDetectionStrategy:()=>l});var t={};n.r(t),n.d(t,{LeoWalletAdapter:()=>K,LeoWalletName:()=>C});var r,s,o,a=n(729),i=n.n(a);!function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"}(r||(r={}));class c extends(i()){get connected(){return!!this.publicKey}}function l(e){if("undefined"==typeof window||"undefined"==typeof document)return;const t=[];function n(){if(e())for(const e of t)e()}const r=setInterval(n,1e3);t.push((()=>clearInterval(r))),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push((()=>document.removeEventListener("DOMContentLoaded",n)))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),t.push((()=>window.removeEventListener("load",n)))),n()}class A extends Error{error;constructor(e,t){super(e),this.error=t}}class d extends A{name="WalletNotReadyError"}class h extends A{name="WalletLoadError"}class u extends A{name="WalletConfigError"}class y extends A{name="WalletConnectionError"}class p extends A{name="WalletNotSelectedError"}class w extends A{name="WalletDisconnectedError"}class f extends A{name="WalletDisconnectionError"}class m extends A{name="WalletAccountError"}class v extends A{name="WalletPublicKeyError"}class g extends A{name="WalletKeypairError"}class E extends A{name="WalletNotConnectedError"}class b extends A{name="WalletSendTransactionError"}class W extends A{name="WalletSignMessageError"}class _ extends A{name="WalletSignTransactionError"}class x extends A{name="WalletRequestViewKeyError"}class S extends A{name="WalletTimeoutError"}class D extends A{name="WalletWindowBlockedError"}class T extends A{name="WalletWindowClosedError"}class B extends A{name="WalletDecryptionNotAllowedError"}class R extends A{name="WalletDecryptionError"}class I extends A{name="WalletRecordsError"}class O extends A{name="WalletTransactionError"}class N extends c{}class M extends N{}!function(e){e.Testnet="testnet3"}(s||(s={})),function(e){e.NoDecrypt="NO_DECRYPT",e.UponRequest="DECRYPT_UPON_REQUEST",e.AutoDecrypt="AUTO_DECRYPT",e.ViewKeyAccess="VIEW_KEY_ACCESS"}(o||(o={}));class j{program;functionName;inputs;provingKeyUrl;constructor(e,t,n,r){this.program=e,this.functionName=t,this.inputs=n,this.provingKeyUrl=r}}class L{address;chainId;transitions;constructor(e,t,n){this.address=e,this.chainId=t,this.transitions=n}static createTransaction(e,t,n,r,s,o){const a=new j(n,r,s,o);return new L(e,t,[a])}}const C="Leo Wallet";class K extends M{name=C;url="https://leo.app/download";icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMC1jMDAwIDc5LjE3MWMyN2ZhYiwgMjAyMi8wOC8xNi0yMjozNTo0MSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJERjI1N0M3NUFERjExRUQ4OTkyRDkwNjQwODFGMjUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJERjI1N0M4NUFERjExRUQ4OTkyRDkwNjQwODFGMjUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkRGMjU3QzU1QURGMTFFRDg5OTJEOTA2NDA4MUYyNTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkRGMjU3QzY1QURGMTFFRDg5OTJEOTA2NDA4MUYyNTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ZyM59AAACz0lEQVR42uzdT2vTYADH8d+Tpo3oYeph4g4iE6boZV68idKDiHj1spt7BYL4DgTfgKDgTdxZr4JXD4LCRMGLghtUGPgHpbWmaRuTsWOTOpfkyZ5+v+xWlrT5dE+ewJPFrLRjkb08DgEAABAAABAAAFD1+TmvxbFGQ5VxmdBoyMumT3Y6dujixPdlzO4BkqPvNzV/PO+X/7vuL/W6k7ec7PfovILAHYAf3zQIMw9jJsBwqGMLuvcoBSy8tYd6tqaDhya8FA20ekvLF9wBuHtb798oOLD7IShBawV5Y8VehqCcms30j8+d06y3h5PweFzKe4pjCzu1Vf6HZRbENBQAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAAgAAmgGArGWUTubX7Q01fD1/qvVXU1b0FVs00KkzungFgO11uy9faDSqdKf9ntrXAbA3BBljbdzjJMxJGAACAAACYDar4zQ0uSwq4zYx46nVAmBaw0g3VrV4uvgtb3X05MHOrB+AzJLv/tllnTtf/Ja/bO4AcA6Y0iAsZbPhH07CBAAABAAABAAABAAABAAAABAAABAAABAAABAAABAAABAAABAAAFippMdnNFt1BKjd2lBj0kWcc4cLfnqTkTobAPzb9/Tx/RJ1AZheebdoA7BfDxOzIAAIAAAIAOeyMwuKIvV/y6t2tmO8Ov4rKDsAi0u6dLXSw5FY97r68BaA7S5fS38qrrOhOzdrd50xQ+eAku5+BYBZEAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAGwrwBculuonp/Fy3/HjYZD37Xcz2I8O/BmpT35nsQ4VhDo5JI7fwRhX58/Tn5pPNbcES2cKGW/m5/ShdleBrCf4xaGevfaoSEo+zFWydH5+V1ft0rZb7OVefSVvzzd4kNerQxQgY3xllkQ01AACAAACAAAyEJ/BRgAJph5IP1XFpwAAAAASUVORK5CYII=";supportedTransactionVersions=null;_connecting;_wallet;_publicKey;_decryptPermission;_viewKey;_readyState="undefined"==typeof window||"undefined"==typeof document?r.Unsupported:r.NotDetected;constructor({appName:e="sample"}={}){super(),this._connecting=!1,this._wallet=null,this._publicKey=null,this._decryptPermission=o.NoDecrypt,this._viewKey=null,this._readyState!==r.Unsupported&&l((()=>!!window?.leo&&(this._readyState=r.Installed,this.emit("readyStateChange",this._readyState),!0)))}get publicKey(){return this._publicKey}get viewKey(){return this._viewKey}get decryptPermission(){return this._decryptPermission}get connecting(){return this._connecting}get readyState(){return this._readyState}set readyState(e){this._readyState=e}async decrypt(e){try{const t=this._wallet;if(!t||!this.publicKey)throw new E;switch(this._decryptPermission){case o.NoDecrypt:throw new B;case o.UponRequest:case o.AutoDecrypt:case o.ViewKeyAccess:try{return(await t.decrypt(e)).text}catch(e){throw new R(e?.message,e)}default:throw new R}}catch(e){throw this.emit("error",e),e}}async requestRecords(e){try{const t=this._wallet;if(!t||!this.publicKey)throw new E;try{return(await t.requestRecords(e)).records}catch(e){throw new I(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async requestTransaction(e){try{const t=this._wallet;if(!t||!this.publicKey)throw new E;try{return(await t.requestTransaction(e)).transactionId}catch(e){throw new O(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async connect(e,t){try{if(this.connected||this.connecting)return;if(this._readyState!==r.Installed)throw new d;this._connecting=!0;const n=window.leo;try{if(await n.connect(e,t),!n?.publicKey)throw new y;this._publicKey=n.publicKey}catch(e){throw new y(e?.message,e)}this._wallet=n,this._decryptPermission=e,this._viewKey=this._viewKey,this.emit("connect",this._publicKey)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(e){this.emit("error",new f(e?.message,e))}}this.emit("disconnect")}async signMessage(e){try{const t=this._wallet;if(!t||!this.publicKey)throw new E;try{return(await t.signMessage(e)).signature}catch(e){throw new _(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async requestViewKey(){try{const e=this._wallet;if(!e||!this.publicKey)throw new E;try{return(await e.requestViewKey()).viewKey}catch(e){throw new x(e?.message,e)}}catch(e){throw this.emit("error",e),e}}}window.AleoWalletBase=e,window.LeoWallet=t})()})();